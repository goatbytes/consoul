{
  "created_at": "2025-12-03T23:25:11.040223",
  "updated_at": "2025-12-06T08:45:09.746620Z",
  "id": "SOUL-229",
  "uuid": "1614f635-a884-4ccf-9d52-0cc530b7c990",
  "title": "Consoul TUI crash on create ticket button",
  "description": "Consoul TUI crashes when clicking 'Create New Ticket'. Stack trace shows a LanguageDoesNotExist exception from Textual's TextArea due to missing tree\u2011sitter markdown parser. Steps to reproduce: start TUI, click create ticket, modal opens and crashes. Environment: Consoul v0.2.1, Python 3.12.1, Textual v0.54.0, no tree-sitter-markdown installed. Root cause: Textual tries to load markdown language, fails, raises exception, TUI exits. Suggested fix: install tree-sitter-markdown or remove language setting to fallback to plain text. Impact: prevents ticket creation.\n\n```\n> consoul tui\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Traceback (most recent call last) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 /private/tmp/test-consoul-0.2.1/lib/python3.12/site-packages/textual/widget.py:4638 in _compose                                                                                                                     \u2502\n\u2502                                                                                                                                                                                                                     \u2502\n\u2502   4635 \u2502                                                                                                                                                                                                            \u2502\n\u2502   4636 \u2502   async def _compose(self) -> None:                                                                                                                                                                        \u2502\n\u2502   4637 \u2502   \u2502   try:                                                                                                                                                                                                 \u2502\n\u2502 \u2771 4638 \u2502   \u2502   \u2502   widgets = [*self._pending_children, *compose(self)]                                                                                                                                              \u2502\n\u2502   4639 \u2502   \u2502   \u2502   self._pending_children.clear()                                                                                                                                                                   \u2502\n\u2502   4640 \u2502   \u2502   except TypeError as error:                                                                                                                                                                           \u2502\n\u2502   4641 \u2502   \u2502   \u2502   raise TypeError(                                                                                                                                                                                 \u2502\n\u2502                                                                                                                                                                                                                     \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 error = LanguageDoesNotExist(\"tree-sitter is available, but no built-in or user-registered language called 'markdown'.\\nEnsure the language is installed (e.g. `pip install tree-sitter-ruby`)\\nFalling back to \u2502 \u2502\n\u2502 \u2502         plain text.\")                                                                                                                                                                                           \u2502 \u2502\n\u2502 \u2502  self = ProfileEditorModal()                                                                                                                                                                                    \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                                                                                                                                                                     \u2502\n\u2502 /private/tmp/test-consoul-0.2.1/lib/python3.12/site-packages/consoul/tui/widgets/profile_editor_modal.py:226 in compose                                                                                             \u2502\n\u2502                                                                                                                                                                                                                     \u2502\n\u2502   223 \u2502   \u2502   \u2502   \u2502   \u2502   \u2502   \"Custom system prompt (optional, supports markdown):\",           \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                                                                                     \u2502\n\u2502   224 \u2502   \u2502   \u2502   \u2502   \u2502   \u2502   classes=\"info-label\",                                            \u2502  self = ProfileEditorModal() \u2502                                                                                     \u2502\n\u2502   225 \u2502   \u2502   \u2502   \u2502   \u2502   )                                                                    \u2502 title = 'Create New Profile' \u2502                                                                                     \u2502\n\u2502 \u2771 226 \u2502   \u2502   \u2502   \u2502   \u2502   yield TextArea(                                                      \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                                                                                     \u2502\n\u2502   227 \u2502   \u2502   \u2502   \u2502   \u2502   \u2502   id=\"system-prompt\",                                                                                                                                                                   \u2502\n\u2502   228 \u2502   \u2502   \u2502   \u2502   \u2502   \u2502   language=\"markdown\",                                                                                                                                                                  \u2502\n\u2502   229 \u2502   \u2502   \u2502   \u2502   \u2502   )                                                                                                                                                                                         \u2502\n\u2502                                                                                                                                                                                                                     \u2502\n\u2502 /private/tmp/test-consoul-0.2.1/lib/python3.12/site-packages/textual/widgets/_text_area.py:557 in __init__                                                                                                          \u2502\n\u2502                                                                                                                                                                                                                     \u2502\n\u2502    554 \u2502   \u2502                                                                                    \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                                                            \u2502\n\u2502    555 \u2502   \u2502   self._line_cache: LRUCache[tuple, Strip] = LRUCache(1024)                        \u2502               classes = None                         \u2502                                                            \u2502\n\u2502    556 \u2502   \u2502                                                                                    \u2502               compact = False                        \u2502                                                            \u2502\n\u2502 \u2771  557 \u2502   \u2502   self._set_document(text, language)                                               \u2502              disabled = False                        \u2502                                                            \u2502\n\u2502    558 \u2502   \u2502                                                                                    \u2502 highlight_cursor_line = True                         \u2502                                                            \u2502\n\u2502    559 \u2502   \u2502   self.language = language                                                         \u2502                    id = 'system-prompt'              \u2502                                                            \u2502\n\u2502    560 \u2502   \u2502   self.theme = theme                                                               \u2502              language = 'markdown'                   \u2502                                                            \u2502\n\u2502                                                                                                 \u2502     line_number_start = 1                            \u2502                                                            \u2502\n\u2502                                                                                                 \u2502       max_checkpoints = 50                           \u2502                                                            \u2502\n\u2502                                                                                                 \u2502                  name = None                         \u2502                                                            \u2502\n\u2502                                                                                                 \u2502           placeholder = ''                           \u2502                                                            \u2502\n\u2502                                                                                                 \u2502             read_only = False                        \u2502                                                            \u2502\n\u2502                                                                                                 \u2502                  self = TextArea(id='system-prompt') \u2502                                                            \u2502\n\u2502                                                                                                 \u2502           show_cursor = True                         \u2502                                                            \u2502\n\u2502                                                                                                 \u2502     show_line_numbers = False                        \u2502                                                            \u2502\n\u2502                                                                                                 \u2502             soft_wrap = True                         \u2502                                                            \u2502\n\u2502                                                                                                 \u2502          tab_behavior = 'focus'                      \u2502                                                            \u2502\n\u2502                                                                                                 \u2502                  text = ''                           \u2502                                                            \u2502\n\u2502                                                                                                 \u2502                 theme = 'css'                        \u2502                                                            \u2502\n\u2502                                                                                                 \u2502               tooltip = None                         \u2502                                                            \u2502\n\u2502                                                                                                 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                                                            \u2502\n\u2502                                                                                                                                                                                                                     \u2502\n\u2502 /private/tmp/test-consoul-0.2.1/lib/python3.12/site-packages/textual/widgets/_text_area.py:1013 in _set_document                                                                                                    \u2502\n\u2502                                                                                                                                                                                                                     \u2502\n\u2502   1010 \u2502   \u2502   \u2502                                                                                \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e  \u2502\n\u2502   1011 \u2502   \u2502   \u2502   # No built-in language, and no user-registered language: use plain text and  \u2502 document_language = None                                                                                       \u2502  \u2502\n\u2502   1012 \u2502   \u2502   \u2502   if document_language is None:                                                \u2502   highlight_query = '(atx_heading (inline) @heading)\\n(setext_heading (paragraph) @heading)\\n\\n[\\n  (atx_'+665 \u2502  \u2502\n\u2502 \u2771 1013 \u2502   \u2502   \u2502   \u2502   raise LanguageDoesNotExist(                                              \u2502          language = 'markdown'                                                                                 \u2502  \u2502\n\u2502   1014 \u2502   \u2502   \u2502   \u2502   \u2502   f\"tree-sitter is available, but no built-in or user-registered langu \u2502              self = TextArea(id='system-prompt')                                                               \u2502  \u2502\n\u2502   1015 \u2502   \u2502   \u2502   \u2502   \u2502   f\"Ensure the language is installed (e.g. `pip install tree-sitter-ru \u2502              text = ''                                                                                         \u2502  \u2502\n\u2502   1016 \u2502   \u2502   \u2502   \u2502   \u2502   f\"Falling back to plain text.\"                                       \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f  \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\nLanguageDoesNotExist: tree-sitter is available, but no built-in or user-registered language called 'markdown'.\nEnsure the language is installed (e.g. `pip install tree-sitter-ruby`)\nFalling back to plain text.\n\nNOTE: 1 of 2 errors shown. Run with textual run --dev to see all errors.\n```",
  "status": "done",
  "type": "bug",
  "priority": "high",
  "labels": [],
  "assignee": "jared@goatbytes.io",
  "reporter": "jared@goatbytes.io",
  "blocked_by": [],
  "blocks": [],
  "comments": [],
  "attachments": [],
  "attachment_count": 0,
  "comment_count": 0,
  "order": 0,
  "custom_fields": {},
  "_archive_metadata": {
    "archived_at": "2025-12-06T00:45:29.862899",
    "archived_from_status": "done",
    "archived_by": "gira-cli"
  }
}