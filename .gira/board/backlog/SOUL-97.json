{
  "created_at": "2025-11-13T14:35:04.854542",
  "updated_at": "2025-11-13T14:35:04.854551",
  "id": "SOUL-97",
  "uuid": "66b698de-6ffe-4679-8f5f-7e27a8396355",
  "title": "Implement code structure search using grep-ast",
  "description": "**As a** Consoul SDK user\n**I want** semantic code search by structure (classes, functions, methods)\n**So that** I can find definitions accurately across languages\n\n**Context:**\nAST-based search using Aider's proven grep-ast approach. Enables finding symbols by structure, not text.\n\n**Technical Notes:**\n- src/consoul/ai/tools/implementations/code_search.py\n- Use grep_ast.TreeContext + tree-sitter parsers\n- Register at RiskLevel.SAFE (read-only)\n- Reference: Aider aider/repomap.py\n\n**Acceptance Criteria:**\n**Given** Python file with function 'calculate_total'\n**When** search_code_structure(query='calculate_total', symbol_type='function')\n**Then** return definition with file, line, context\n\n**Given** search 1000-file repo\n**When** code_search executes\n**Then** results in <5s with caching\n\n**Given** file with syntax errors\n**When** processing\n**Then** log warning, continue without crash\n\n**Languages:** Python, JS/TS, Go, Rust, Java, C/C++ (20+ via tree-sitter)\n\n**Testing:**\n- Mock TreeContext, test parsing\n- Fixtures for each language\n- Edge cases: empty, errors, large files\n- Performance: 1000 files <5s\n\n**Story Points:** 8\n**Dependencies:** SOUL-94 (blocks)",
  "status": "backlog",
  "type": "feature",
  "priority": "high",
  "labels": [],
  "reporter": "jared@goatbytes.io",
  "epic_id": "EPIC-006",
  "blocked_by": ["SOUL-94"],
  "blocks": [],
  "comments": [],
  "attachments": [],
  "attachment_count": 0,
  "comment_count": 0,
  "order": 0,
  "custom_fields": {}
}