{
  "created_at": "2025-12-30T09:48:37.157687Z",
  "updated_at": "2025-12-30T19:03:54.015764Z",
  "id": "SOUL-335",
  "uuid": "22d12436-4b9a-4859-8a68-15694f57e545",
  "_version": 3,
  "title": "Investigate and Fix Crash in TUI",
  "description": "Output from runnthe the TUI:\n\n```bash\n> poetry run consoul tui\n╭───────────────────────────────────────────────────────────────────────────────────────── Traceback (most recent call last) ─────────────────────────────────────────────────────────────────────────────────────────╮\n│ /Users/jaredrummler/Library/Caches/pypoetry/virtualenvs/consoul-URyr6aHq-py3.12/lib/python3.12/site-packages/textual/widget.py:4638 in _compose                                                                     │\n│                                                                                                                                                                                                                     │\n│   4635 │                                                                                                                                                                                                            │\n│   4636 │   async def _compose(self) -> None:                                                                                                                                                                        │\n│   4637 │   │   try:                                                                                                                                                                                                 │\n│ ❱ 4638 │   │   │   widgets = [*self._pending_children, *compose(self)]                                                                                                                                              │\n│   4639 │   │   │   self._pending_children.clear()                                                                                                                                                                   │\n│   4640 │   │   except TypeError as error:                                                                                                                                                                           │\n│   4641 │   │   │   raise TypeError(                                                                                                                                                                                 │\n│                                                                                                                                                                                                                     │\n│ ╭──────────────────────────────────────────────────────────────────────────────────────────────────── locals ─────────────────────────────────────────────────────────────────────────────────────────────────────╮ │\n│ │ error = LanguageDoesNotExist(\"tree-sitter is available, but no built-in or user-registered language called 'markdown'.\\nEnsure the language is installed (e.g. `pip install tree-sitter-ruby`)\\nFalling back to │ │\n│ │         plain text.\")                                                                                                                                                                                           │ │\n│ │  self = ProfileEditorModal()                                                                                                                                                                                    │ │\n│ ╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯ │\n│                                                                                                                                                                                                                     │\n│ /Users/jaredrummler/Development/github/goatbytes/consoul/src/consoul/tui/widgets/profile_editor_modal.py:240 in compose                                                                                             │\n│                                                                                                                                                                                                                     │\n│   237 │   │   │   │   │   │   \"Custom system prompt (optional, supports markdown):\",           ╭─────────── locals ───────────╮                                                                                     │\n│   238 │   │   │   │   │   │   classes=\"info-label\",                                            │  self = ProfileEditorModal() │                                                                                     │\n│   239 │   │   │   │   │   )                                                                    │ title = 'Create New Profile' │                                                                                     │\n│ ❱ 240 │   │   │   │   │   yield TextArea(                                                      ╰──────────────────────────────╯                                                                                     │\n│   241 │   │   │   │   │   │   id=\"system-prompt\",                                                                                                                                                                   │\n│   242 │   │   │   │   │   │   language=\"markdown\",                                                                                                                                                                  │\n│   243 │   │   │   │   │   )                                                                                                                                                                                         │\n│                                                                                                                                                                                                                     │\n│ /Users/jaredrummler/Library/Caches/pypoetry/virtualenvs/consoul-URyr6aHq-py3.12/lib/python3.12/site-packages/textual/widgets/_text_area.py:557 in __init__                                                          │\n│                                                                                                                                                                                                                     │\n│    554 │   │                                                                                    ╭─────────────────────── locals ───────────────────────╮                                                            │\n│    555 │   │   self._line_cache: LRUCache[tuple, Strip] = LRUCache(1024)                        │               classes = None                         │                                                            │\n│    556 │   │                                                                                    │               compact = False                        │                                                            │\n│ ❱  557 │   │   self._set_document(text, language)                                               │              disabled = False                        │                                                            │\n│    558 │   │                                                                                    │ highlight_cursor_line = True                         │                                                            │\n│    559 │   │   self.language = language                                                         │                    id = 'system-prompt'              │                                                            │\n│    560 │   │   self.theme = theme                                                               │              language = 'markdown'                   │                                                            │\n│                                                                                                 │     line_number_start = 1                            │                                                            │\n│                                                                                                 │       max_checkpoints = 50                           │                                                            │\n│                                                                                                 │                  name = None                         │                                                            │\n│                                                                                                 │           placeholder = ''                           │                                                            │\n│                                                                                                 │             read_only = False                        │                                                            │\n│                                                                                                 │                  self = TextArea(id='system-prompt') │                                                            │\n│                                                                                                 │           show_cursor = True                         │                                                            │\n│                                                                                                 │     show_line_numbers = False                        │                                                            │\n│                                                                                                 │             soft_wrap = True                         │                                                            │\n│                                                                                                 │          tab_behavior = 'focus'                      │                                                            │\n│                                                                                                 │                  text = ''                           │                                                            │\n│                                                                                                 │                 theme = 'css'                        │                                                            │\n│                                                                                                 │               tooltip = None                         │                                                            │\n│                                                                                                 ╰──────────────────────────────────────────────────────╯                                                            │\n│                                                                                                                                                                                                                     │\n│ /Users/jaredrummler/Library/Caches/pypoetry/virtualenvs/consoul-URyr6aHq-py3.12/lib/python3.12/site-packages/textual/widgets/_text_area.py:1013 in _set_document                                                    │\n│                                                                                                                                                                                                                     │\n│   1010 │   │   │                                                                                ╭──────────────────────────────────────────────────── locals ────────────────────────────────────────────────────╮  │\n│   1011 │   │   │   # No built-in language, and no user-registered language: use plain text and  │ document_language = None                                                                                       │  │\n│   1012 │   │   │   if document_language is None:                                                │   highlight_query = '(atx_heading (inline) @heading)\\n(setext_heading (paragraph) @heading)\\n\\n[\\n  (atx_'+665 │  │\n│ ❱ 1013 │   │   │   │   raise LanguageDoesNotExist(                                              │          language = 'markdown'                                                                                 │  │\n│   1014 │   │   │   │   │   f\"tree-sitter is available, but no built-in or user-registered langu │              self = TextArea(id='system-prompt')                                                               │  │\n│   1015 │   │   │   │   │   f\"Ensure the language is installed (e.g. `pip install tree-sitter-ru │              text = ''                                                                                         │  │\n│   1016 │   │   │   │   │   f\"Falling back to plain text.\"                                       ╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯  │\n╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯\nLanguageDoesNotExist: tree-sitter is available, but no built-in or user-registered language called 'markdown'.\nEnsure the language is installed (e.g. `pip install tree-sitter-ruby`)\nFalling back to plain text.\n\nNOTE: 1 of 2 errors shown. Run with textual run --dev to see all errors.\n```",
  "status": "done",
  "type": "bug",
  "priority": "critical",
  "labels": [],
  "assignee": "jared@goatbytes.io",
  "reporter": "jared@goatbytes.io",
  "blocked_by": [],
  "blocks": [],
  "comments": [],
  "attachments": [],
  "attachment_count": 0,
  "comment_count": 0,
  "story_points": 2,
  "order": 0,
  "custom_fields": {}
}