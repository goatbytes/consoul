{
  "created_at": "2025-11-20T23:16:29.411839",
  "updated_at": "2025-11-20T23:16:29.411847",
  "id": "SOUL-139",
  "uuid": "dcedb846-b9c1-4df1-be10-1b57d006dc35",
  "title": "Redesign message database schema for UI reconstruction",
  "description": "Design and implement a new database schema that enables full UI reconstruction when loading saved conversations.\n\nRequirements:\n- Store message type (user, assistant, system, tool_call, tool_result)\n- Store tool call metadata (tool name, arguments, status, output)\n- Store attachment metadata (file paths, types, sizes)\n- Store image references with their original file paths\n- Maintain backward compatibility with existing conversations\n\nTechnical approach:\n1. Add message_type field to messages table\n2. Create separate tables for tool_calls, attachments, and image_refs\n3. Create migration script for existing data\n4. Update conversation loading to reconstruct proper UI components\n\nRelated: SOUL-138",
  "status": "todo",
  "type": "feature",
  "priority": "high",
  "labels": [],
  "reporter": "jared@goatbytes.io",
  "blocked_by": [],
  "blocks": [],
  "comments": [],
  "attachments": [],
  "attachment_count": 0,
  "comment_count": 0,
  "order": 0,
  "custom_fields": {}
}