{
  "created_at": "2025-11-26T00:51:19.425852",
  "updated_at": "2025-11-26T00:51:19.425863",
  "id": "SOUL-167",
  "uuid": "f9daf23a-c446-432f-b0a7-2ec524af8b85",
  "title": "Implement rich markdown rendering for chat responses",
  "description": "**As a** Consoul chat user\n**I want** AI responses rendered with proper markdown formatting\n**So that** code blocks, lists, and emphasis are easy to read in the terminal\n\n**Context:**\nClaude Code and similar tools render markdown beautifully in the terminal. The Rich library (already a dependency via Textual) provides excellent markdown rendering with:\n- Syntax-highlighted code blocks\n- Proper list formatting (bullets, numbers)\n- Bold, italic, inline code\n- Headers with styling\n- Tables\n- Blockquotes\n\nReference: https://rich.readthedocs.io/en/stable/markdown.html\n\n**Technical Notes:**\n- Rich is already available (Textual dependency)\n- Use rich.markdown.Markdown for rendering\n- Apply after streaming completes (or render progressively if possible)\n- Consider width constraints for terminal\n- Handle code blocks with syntax highlighting\n- src/consoul/cli/chat_session.py - integrate into response display\n- rich.console.Console - already used for output\n\n**Acceptance Criteria:**\n\n**Given** AI response contains markdown code blocks\n**When** response is displayed\n**Then** code has syntax highlighting appropriate to language\n\n**Given** AI response has lists, bold, italic\n**When** response is displayed\n**Then** formatting is properly rendered in terminal\n\n**Given** AI response has headers\n**When** response is displayed  \n**Then** headers are styled distinctly from body text\n\n**Given** terminal width is narrow\n**When** markdown is rendered\n**Then** content wraps appropriately without breaking\n\n**Testing Considerations:**\n- Test various markdown elements (code, lists, headers, tables)\n- Test different terminal widths\n- Test with/without color support\n- Test syntax highlighting for common languages (python, javascript, bash)\n- Verify inline code vs block code rendering\n\n**Implementation Hints:**\n```python\nfrom rich.console import Console\nfrom rich.markdown import Markdown\n\nconsole = Console()\n\n# After streaming completes or for non-streaming:\nmd = Markdown(response_text)\nconsole.print(md)\n\n# For progressive rendering during streaming:\n# Accumulate tokens, then render complete markdown\n# (Markdown needs complete text for proper parsing)\n```\n\n- Set console width: Console(width=120) or auto-detect\n- Enable code theme: use consoul colors\n- Consider caching rendered output for conversation replay",
  "status": "todo",
  "type": "feature",
  "priority": "high",
  "labels": [
    "cli",
    "ux-improvement",
    "enhancement"
  ],
  "reporter": "jared@goatbytes.io",
  "blocked_by": [],
  "blocks": [],
  "comments": [],
  "attachments": [],
  "attachment_count": 0,
  "comment_count": 0,
  "story_points": 3,
  "order": 0,
  "custom_fields": {}
}