{
  "created_at": "2025-11-09T19:45:41.705933",
  "updated_at": "2025-11-09T19:45:41.705942",
  "id": "SOUL-32",
  "uuid": "eb0e3374-1d67-421b-8f4a-7465f110658e",
  "title": "Setup TUI directory structure and base files",
  "description": "# Setup TUI Directory Structure and Base Files\n\n## User Story\n**As a** Consoul developer\n**I want** a well-organized TUI module structure\n**So that** the TUI implementation has a solid foundation and follows Textual best practices\n\n## Description\n\nCreate the foundational directory structure for Consoul's TUI module following the architecture defined in TUI_RESEARCH.md. This establishes the organizational pattern that all subsequent TUI development will build upon. The structure must maintain clean separation from core library modules (consoul.ai, consoul.config) to support library-first design.\n\n## Context\n\nResearch from Gira and Postings shows that a well-organized widget/screen structure is critical for maintainability. The TUI module needs:\n- Clear separation of widgets, screens, utilities, and styles\n- Modular organization for easy testing and extension\n- Standard Python package structure with proper __init__.py files\n\nReference: TUI_RESEARCH.md §3 \"Technical Architecture\"\n\n## Technical Notes\n\n**Directory Structure to Create:**\n```\nsrc/consoul/tui/\n├── __init__.py           # Module exports\n├── app.py                # Placeholder for ConsoulApp (created in SOUL-34)\n├── cli.py                # Placeholder for CLI entry point\n├── config.py             # Placeholder for TuiConfig (created in SOUL-33)\n├── messages.py           # Placeholder for custom messages\n├── css/\n│   ├── __init__.py\n│   ├── main.tcss         # Main stylesheet (created in SOUL-35)\n│   └── themes/\n│       └── __init__.py\n├── widgets/\n│   ├── __init__.py\n│   ├── modals/\n│   │   └── __init__.py\n│   └── base/\n│       └── __init__.py\n└── utils/\n    ├── __init__.py\n    └── error_handling.py  # Placeholder\n```\n\n**Files to Create:**\n- src/consoul/tui/__init__.py - Export main TUI components\n- All directory __init__.py files\n- Placeholder files with module docstrings\n- Basic imports in main __init__.py\n\n**Key Considerations:**\n- Do NOT create actual widget implementations yet (Phase 2)\n- DO create proper Python packages with __init__.py\n- Include comprehensive module-level docstrings\n- Follow existing consoul project conventions (see src/consoul/)\n\n## Acceptance Criteria\n\n**Given** the consoul project exists\n**When** I create the TUI directory structure\n**Then** all directories contain valid __init__.py files\n\n**Given** the TUI module is created\n**When** I run `python -c \"from consoul.tui import ConsoulApp\"`\n**Then** the import succeeds (even though ConsoulApp is just a placeholder)\n\n**Given** the directory structure is complete\n**When** I examine the project with mypy and ruff\n**Then** no linting or type errors occur in placeholder files\n\n**Given** all files are created\n**When** I check the src/consoul/tui/__init__.py\n**Then** it includes a clear docstring explaining the TUI module purpose\n\n## Testing Considerations\n\n- Verify all __init__.py files are valid Python\n- Test that imports work: `from consoul.tui import ...`\n- Run mypy on the tui directory (should pass with placeholders)\n- Run ruff linting (should pass)\n- No pytest tests needed for directory structure\n\n## Implementation Hints\n\n**src/consoul/tui/__init__.py:**\n```python\n\"\"\"Consoul Terminal User Interface (TUI) module.\n\nThis module provides a beautiful, keyboard-driven TUI for interactive AI\nconversations using the Textual framework. The TUI is designed as a standalone\nmodule that can be used independently or as part of the Consoul library.\n\nKey Features:\n- Real-time streaming AI response display\n- Markdown rendering with syntax highlighting\n- Conversation history with full-text search\n- Profile and model switching\n- Keyboard-first navigation\n\nNote: This module is optional and can be excluded when using Consoul as a\nlibrary (e.g., in Gira). Core AI functionality is in consoul.ai.\n\"\"\"\n\nfrom __future__ import annotations\n\n__all__ = [\"ConsoulApp\"]\n\n# Placeholder - actual implementation in SOUL-34\nclass ConsoulApp:\n    \"\"\"Placeholder for Textual TUI application.\"\"\"\n    pass\n```\n\n**Other __init__.py files:**\n- widgets/__init__.py: \"TUI widgets for Consoul interface.\"\n- css/__init__.py: \"CSS stylesheets and themes for Textual.\"\n- utils/__init__.py: \"Utility functions for TUI operations.\"\n\n**Directory Creation Pattern:**\n```python\nfrom pathlib import Path\n\ntui_dir = Path(\"src/consoul/tui\")\ntui_dir.mkdir(exist_ok=True)\n\n# Create subdirectories\nfor subdir in [\"css\", \"widgets\", \"utils\"]:\n    (tui_dir / subdir).mkdir(exist_ok=True)\n```\n\n## Files to Create/Modify\n\n**New Files:**\n- src/consoul/tui/__init__.py\n- src/consoul/tui/app.py\n- src/consoul/tui/cli.py\n- src/consoul/tui/config.py\n- src/consoul/tui/messages.py\n- src/consoul/tui/css/__init__.py\n- src/consoul/tui/css/themes/__init__.py\n- src/consoul/tui/widgets/__init__.py\n- src/consoul/tui/widgets/modals/__init__.py\n- src/consoul/tui/widgets/base/__init__.py\n- src/consoul/tui/utils/__init__.py\n- src/consoul/tui/utils/error_handling.py\n\n**Modified Files:**\n- None (this is new code)\n\n## Dependencies\n\n**Prerequisites:**\n- EPIC-001 complete (project structure exists)\n- src/consoul/ directory exists\n- pyproject.toml has textual dependency\n\n**Blocks:**\n- SOUL-33 (TUI config needs this structure)\n- SOUL-34 (ConsoulApp needs this structure)\n- SOUL-35 (CSS files need css/ directory)",
  "status": "todo",
  "type": "task",
  "priority": "high",
  "labels": [
    "tui",
    "foundation",
    "setup"
  ],
  "reporter": "jared@goatbytes.io",
  "epic_id": "EPIC-003",
  "blocked_by": [],
  "blocks": [],
  "comments": [],
  "attachments": [],
  "attachment_count": 0,
  "comment_count": 0,
  "story_points": 2,
  "order": 0,
  "custom_fields": {}
}