2025-11-20 01:44:23,348 - consoul.tui.cli - INFO - Debug logging enabled, writing to: ./log.txt
2025-11-20 01:44:29,877 - consoul.tui.app - INFO - [TIMING] Message submit handler started
2025-11-20 01:44:29,877 - consoul.tui.app - INFO - [TIMING] Model check complete: 0.1ms
2025-11-20 01:44:29,877 - consoul.tui.app - INFO - [TIMING] Reset tracking: 0.0ms
2025-11-20 01:44:29,888 - consoul.tui.app - INFO - [TIMING] Added message bubble: 11.1ms
2025-11-20 01:44:29,891 - consoul.tui.app - INFO - [TIMING] Added typing indicator: 2.5ms
2025-11-20 01:44:29,891 - consoul.tui.app - INFO - [TIMING] Starting background processing: 0.0ms
2025-11-20 01:44:29,891 - consoul.tui.app - INFO - [IMAGE_DETECTION] Extracted 1 image(s) from message
2025-11-20 01:44:29,891 - consoul.tui.app - INFO - [IMAGE_DETECTION] Image paths: ['/Users/jaredrummler/Development/github/goatbytes/consoul/.art/logo/1x/consoul-logo.png']
2025-11-20 01:44:29,891 - consoul.tui.app - INFO - [IMAGE_DETECTION] Model supports vision: True
2025-11-20 01:44:29,893 - consoul.tui.app - INFO - [TIMING] Worker started: 15.5ms from submit
2025-11-20 01:44:29,893 - consoul.tui.app - INFO - [TIMING] Message handler exiting, worker launched: 15.5ms
2025-11-20 01:44:29,898 - consoul.tui.app - INFO - Created conversation session: 3bf8e732-a01c-4520-a978-80d6da28fc2d
2025-11-20 01:44:29,915 - consoul.tui.app - INFO - [TIMING] DB persist complete: 23.0ms
2025-11-20 01:44:29,916 - consoul.tui.app - INFO - [TIMING] About to call _stream_ai_response
2025-11-20 01:44:29,916 - consoul.tui.app - INFO - [TIMING] _stream_ai_response ENTRY
2025-11-20 01:44:29,916 - consoul.tui.app - DEBUG - [TOOL_FLOW] _stream_ai_response ENTRY - iteration 0/5
2025-11-20 01:44:29,916 - consoul.tui.app - INFO - [TIMING] Updated streaming state: 0.3ms
2025-11-20 01:44:29,916 - consoul.tui.app - INFO - [TIMING] Got model config: 0.0ms
2025-11-20 01:44:29,918 - consoul.tui.app - INFO - [TIMING] Got trimmed messages: 2.2ms
2025-11-20 01:44:29,919 - consoul.tui.app - INFO - [TIMING] Converted to dict: 0.4ms, total prep: 3.0ms
2025-11-20 01:44:51,600 - consoul.tui.app - DEBUG - [TOOL_FLOW] Stream loop finished. Collected 634 chunks, exception=None
2025-11-20 01:44:51,601 - consoul.tui.app - DEBUG - Found 1 tool_calls after merging chunks
2025-11-20 01:44:51,601 - consoul.tui.app - DEBUG - [TOOL_FLOW] Got first_token: is_none=True, value=None
2025-11-20 01:44:51,601 - consoul.tui.app - DEBUG - Final tool_calls: [{'name': 'bash_execute', 'args': {'command': 'ls -l .art/logo/1x/consoul-logo.png'}, 'id': '3cc786dd-ef8f-4fee-a957-8f2b718e8d35', 'type': 'tool_call'}]
2025-11-20 01:44:51,602 - consoul.tui.app - DEBUG - Final message has 1 tool_calls
2025-11-20 01:44:51,602 - consoul.tui.app - DEBUG - [TOOL_FLOW] About to send final_message to main thread
2025-11-20 01:44:51,602 - consoul.tui.app - DEBUG - [TOOL_FLOW] Sending final_message to queue: has_message=True
2025-11-20 01:44:51,609 - consoul.tui.app - DEBUG - [TOOL_FLOW] Stream exception: None
2025-11-20 01:44:51,610 - consoul.tui.app - DEBUG - [TOOL_FLOW] Got final_message from queue: type=AIMessage, is_none=False
2025-11-20 01:44:51,610 - consoul.tui.app - DEBUG - [TOOL_FLOW] Response check: has_content=, has_tool_calls_in_message=[{'name': 'bash_execute', 'args': {'command': 'ls -l .art/logo/1x/consoul-logo.png'}, 'id': '3cc786dd-ef8f-4fee-a957-8f2b718e8d35', 'type': 'tool_call'}], full_response_len=0, cancelled=False
2025-11-20 01:44:51,627 - consoul.tui.app - DEBUG - [TOOL_FLOW] Checking final_message for tool calls: has_final_message=True
2025-11-20 01:44:51,627 - consoul.tui.app - DEBUG - [TOOL_FLOW] Calling has_tool_calls()
2025-11-20 01:44:51,627 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool calls detected in model response: 1 call(s), content_length=0
2025-11-20 01:44:51,627 - consoul.tui.app - DEBUG - [TOOL_FLOW] Replacing empty stream widget with tool execution message
2025-11-20 01:44:51,635 - consoul.tui.app - DEBUG - [TOOL_FLOW] Calling _handle_tool_calls with 1 calls
2025-11-20 01:44:51,635 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool call iteration 1 with 1 tool(s)
2025-11-20 01:44:51,635 - consoul.tui.app - DEBUG - [TOOL_FLOW] Reset tool results for new batch of 1 tools
2025-11-20 01:44:51,635 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool call detected: bash_execute with args: {'command': 'ls -l .art/logo/1x/consoul-logo.png'}
2025-11-20 01:44:51,636 - consoul.tui.app - DEBUG - [TOOL_FLOW] Posting ToolApprovalRequested for bash_execute
2025-11-20 01:44:51,636 - consoul.tui.app - DEBUG - [TOOL_FLOW] Posted ToolApprovalRequested for bash_execute
2025-11-20 01:44:51,636 - consoul.tui.app - DEBUG - [TOOL_FLOW] _handle_tool_calls completed
2025-11-20 01:44:51,640 - consoul.tui.app - INFO - [TIMING] Worker complete: 21747.7ms, total: 21763.2ms
2025-11-20 01:44:51,642 - consoul.tui.app - DEBUG - [TOOL_FLOW] on_tool_approval_requested called for bash_execute
2025-11-20 01:44:51,648 - consoul.tui.app - DEBUG - [TOOL_FLOW] Checking if approval needed for bash_execute
2025-11-20 01:44:51,648 - consoul.tui.app - DEBUG - [TOOL_FLOW] Approval check result: needs_approval=False
2025-11-20 01:44:51,648 - consoul.tui.app - DEBUG - [TOOL_FLOW] Auto-approving bash_execute
2025-11-20 01:44:51,656 - consoul.tui.app - DEBUG - [TOOL_FLOW] on_tool_approval_result: tool=bash_execute, approved=True, call_id=3cc786dd-ef8f-4fee-a957-8f2b718e8d35
2025-11-20 01:44:51,686 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool completion status: 1/1 tools completed
2025-11-20 01:44:51,686 - consoul.tui.app - DEBUG - [TOOL_FLOW] All 1 tools completed, continuing with tool results
2025-11-20 01:44:51,687 - consoul.tui.app - INFO - [TIMING] _stream_ai_response ENTRY
2025-11-20 01:44:51,687 - consoul.tui.app - DEBUG - [TOOL_FLOW] _stream_ai_response ENTRY - iteration 1/5
2025-11-20 01:44:51,687 - consoul.tui.app - INFO - [TIMING] Updated streaming state: 0.3ms
2025-11-20 01:44:51,687 - consoul.tui.app - INFO - [TIMING] Got model config: 0.1ms
2025-11-20 01:44:51,687 - consoul.tui.app - INFO - [TIMING] Got trimmed messages: 0.3ms
2025-11-20 01:44:51,688 - consoul.tui.app - INFO - [TIMING] Converted to dict: 0.4ms, total prep: 1.0ms
2025-11-20 01:45:30,847 - consoul.tui.app - DEBUG - [TOOL_FLOW] Stream loop finished. Collected 1272 chunks, exception=None
2025-11-20 01:45:30,847 - consoul.tui.app - DEBUG - Found 1 tool_calls after merging chunks
2025-11-20 01:45:30,847 - consoul.tui.app - DEBUG - Final tool_calls: [{'name': 'bash_execute', 'args': {'command': 'identify -format "%w x %h\\n" .art/logo/1x/consoul-logo.png'}, 'id': '5ad5c854-c2a0-48ad-9bbb-18e373b7f4f1', 'type': 'tool_call'}]
2025-11-20 01:45:30,847 - consoul.tui.app - DEBUG - [TOOL_FLOW] Got first_token: is_none=True, value=None
2025-11-20 01:45:30,847 - consoul.tui.app - DEBUG - Final message has 1 tool_calls
2025-11-20 01:45:30,848 - consoul.tui.app - DEBUG - [TOOL_FLOW] Stream exception: None
2025-11-20 01:45:30,848 - consoul.tui.app - DEBUG - [TOOL_FLOW] About to send final_message to main thread
2025-11-20 01:45:30,848 - consoul.tui.app - DEBUG - [TOOL_FLOW] Sending final_message to queue: has_message=True
2025-11-20 01:45:30,850 - consoul.tui.app - DEBUG - [TOOL_FLOW] Got final_message from queue: type=AIMessage, is_none=False
2025-11-20 01:45:30,850 - consoul.tui.app - DEBUG - [TOOL_FLOW] Response check: has_content=, has_tool_calls_in_message=[{'name': 'bash_execute', 'args': {'command': 'identify -format "%w x %h\\n" .art/logo/1x/consoul-logo.png'}, 'id': '5ad5c854-c2a0-48ad-9bbb-18e373b7f4f1', 'type': 'tool_call'}], full_response_len=0, cancelled=False
2025-11-20 01:45:30,851 - consoul.tui.app - DEBUG - [TOOL_FLOW] Checking final_message for tool calls: has_final_message=True
2025-11-20 01:45:30,851 - consoul.tui.app - DEBUG - [TOOL_FLOW] Calling has_tool_calls()
2025-11-20 01:45:30,851 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool calls detected in model response: 1 call(s), content_length=0
2025-11-20 01:45:30,851 - consoul.tui.app - DEBUG - [TOOL_FLOW] Replacing empty stream widget with tool execution message
2025-11-20 01:45:30,856 - consoul.tui.app - DEBUG - [TOOL_FLOW] Calling _handle_tool_calls with 1 calls
2025-11-20 01:45:30,856 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool call iteration 2 with 1 tool(s)
2025-11-20 01:45:30,856 - consoul.tui.app - DEBUG - [TOOL_FLOW] Reset tool results for new batch of 1 tools
2025-11-20 01:45:30,856 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool call detected: bash_execute with args: {'command': 'identify -format "%w x %h\\n" .art/logo/1x/consoul-logo.png'}
2025-11-20 01:45:30,856 - consoul.tui.app - DEBUG - [TOOL_FLOW] Posting ToolApprovalRequested for bash_execute
2025-11-20 01:45:30,856 - consoul.tui.app - DEBUG - [TOOL_FLOW] Posted ToolApprovalRequested for bash_execute
2025-11-20 01:45:30,856 - consoul.tui.app - DEBUG - [TOOL_FLOW] _handle_tool_calls completed
2025-11-20 01:45:30,858 - consoul.tui.app - DEBUG - [TOOL_FLOW] on_tool_approval_requested called for bash_execute
2025-11-20 01:45:30,862 - consoul.tui.app - DEBUG - [TOOL_FLOW] Checking if approval needed for bash_execute
2025-11-20 01:45:30,863 - consoul.tui.app - DEBUG - [TOOL_FLOW] Approval check result: needs_approval=True
2025-11-20 01:48:38,364 - consoul.tui.app - DEBUG - [TOOL_FLOW] on_tool_approval_result: tool=bash_execute, approved=True, call_id=5ad5c854-c2a0-48ad-9bbb-18e373b7f4f1
2025-11-20 01:48:38,373 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool completion status: 1/1 tools completed
2025-11-20 01:48:38,373 - consoul.tui.app - DEBUG - [TOOL_FLOW] All 1 tools completed, continuing with tool results
2025-11-20 01:48:38,374 - consoul.tui.app - INFO - [TIMING] _stream_ai_response ENTRY
2025-11-20 01:48:38,374 - consoul.tui.app - DEBUG - [TOOL_FLOW] _stream_ai_response ENTRY - iteration 2/5
2025-11-20 01:48:38,374 - consoul.tui.app - INFO - [TIMING] Updated streaming state: 0.3ms
2025-11-20 01:48:38,374 - consoul.tui.app - INFO - [TIMING] Got model config: 0.1ms
2025-11-20 01:48:38,375 - consoul.tui.app - INFO - [TIMING] Got trimmed messages: 0.5ms
2025-11-20 01:48:38,375 - consoul.tui.app - INFO - [TIMING] Converted to dict: 0.5ms, total prep: 1.3ms
2025-11-20 01:48:59,543 - consoul.tui.app - DEBUG - [TOOL_FLOW] Stream loop finished. Collected 1162 chunks, exception=None
2025-11-20 01:48:59,545 - consoul.tui.app - DEBUG - Found 1 tool_calls after merging chunks
2025-11-20 01:48:59,545 - consoul.tui.app - DEBUG - [TOOL_FLOW] Got first_token: is_none=True, value=None
2025-11-20 01:48:59,545 - consoul.tui.app - DEBUG - Final tool_calls: [{'name': 'web_search', 'args': {'query': 'how to get image dimensions in terminal without ImageMagick'}, 'id': '21b48af5-73a7-42dd-801b-870927fabd06', 'type': 'tool_call'}]
2025-11-20 01:48:59,550 - consoul.tui.app - DEBUG - [TOOL_FLOW] Stream exception: None
2025-11-20 01:48:59,551 - consoul.tui.app - DEBUG - Final message has 1 tool_calls
2025-11-20 01:48:59,551 - consoul.tui.app - DEBUG - [TOOL_FLOW] About to send final_message to main thread
2025-11-20 01:48:59,554 - consoul.tui.app - DEBUG - [TOOL_FLOW] Sending final_message to queue: has_message=True
2025-11-20 01:48:59,555 - consoul.tui.app - DEBUG - [TOOL_FLOW] Got final_message from queue: type=AIMessage, is_none=False
2025-11-20 01:48:59,556 - consoul.tui.app - DEBUG - [TOOL_FLOW] Response check: has_content=, has_tool_calls_in_message=[{'name': 'web_search', 'args': {'query': 'how to get image dimensions in terminal without ImageMagick'}, 'id': '21b48af5-73a7-42dd-801b-870927fabd06', 'type': 'tool_call'}], full_response_len=0, cancelled=False
2025-11-20 01:48:59,557 - consoul.tui.app - DEBUG - [TOOL_FLOW] Checking final_message for tool calls: has_final_message=True
2025-11-20 01:48:59,557 - consoul.tui.app - DEBUG - [TOOL_FLOW] Calling has_tool_calls()
2025-11-20 01:48:59,557 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool calls detected in model response: 1 call(s), content_length=0
2025-11-20 01:48:59,557 - consoul.tui.app - DEBUG - [TOOL_FLOW] Replacing empty stream widget with tool execution message
2025-11-20 01:48:59,565 - consoul.tui.app - DEBUG - [TOOL_FLOW] Calling _handle_tool_calls with 1 calls
2025-11-20 01:48:59,566 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool call iteration 3 with 1 tool(s)
2025-11-20 01:48:59,566 - consoul.tui.app - DEBUG - [TOOL_FLOW] Reset tool results for new batch of 1 tools
2025-11-20 01:48:59,566 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool call detected: web_search with args: {'query': 'how to get image dimensions in terminal without ImageMagick'}
2025-11-20 01:48:59,566 - consoul.tui.app - DEBUG - [TOOL_FLOW] Posting ToolApprovalRequested for web_search
2025-11-20 01:48:59,566 - consoul.tui.app - DEBUG - [TOOL_FLOW] Posted ToolApprovalRequested for web_search
2025-11-20 01:48:59,566 - consoul.tui.app - DEBUG - [TOOL_FLOW] _handle_tool_calls completed
2025-11-20 01:48:59,610 - consoul.tui.app - DEBUG - [TOOL_FLOW] on_tool_approval_requested called for web_search
2025-11-20 01:48:59,617 - consoul.tui.app - DEBUG - [TOOL_FLOW] Checking if approval needed for web_search
2025-11-20 01:48:59,617 - consoul.tui.app - DEBUG - [TOOL_FLOW] Approval check result: needs_approval=False
2025-11-20 01:48:59,617 - consoul.tui.app - DEBUG - [TOOL_FLOW] Auto-approving web_search
2025-11-20 01:48:59,624 - consoul.tui.app - DEBUG - [TOOL_FLOW] on_tool_approval_result: tool=web_search, approved=True, call_id=21b48af5-73a7-42dd-801b-870927fabd06
2025-11-20 01:48:59,626 - consoul.ai.tools.implementations.web_search - INFO - Using Jina Search for query: how to get image dimensions in terminal without ImageMagick
2025-11-20 01:49:25,498 - consoul.ai.tools.implementations.web_search - INFO - Jina Search returned 5 results
2025-11-20 01:49:25,501 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool completion status: 1/1 tools completed
2025-11-20 01:49:25,501 - consoul.tui.app - DEBUG - [TOOL_FLOW] All 1 tools completed, continuing with tool results
2025-11-20 01:49:25,503 - consoul.tui.app - INFO - [TIMING] _stream_ai_response ENTRY
2025-11-20 01:49:25,505 - consoul.tui.app - DEBUG - [TOOL_FLOW] _stream_ai_response ENTRY - iteration 3/5
2025-11-20 01:49:25,506 - consoul.tui.app - INFO - [TIMING] Updated streaming state: 2.9ms
2025-11-20 01:49:25,507 - consoul.tui.app - INFO - [TIMING] Got model config: 0.2ms
2025-11-20 01:49:25,508 - consoul.tui.app - INFO - [TIMING] Got trimmed messages: 1.4ms
2025-11-20 01:49:25,509 - consoul.tui.app - INFO - [TIMING] Converted to dict: 1.4ms, total prep: 5.9ms
2025-11-20 01:49:54,308 - consoul.tui.app - DEBUG - [TOOL_FLOW] Stream loop finished. Collected 1548 chunks, exception=None
2025-11-20 01:49:54,309 - consoul.tui.app - DEBUG - Found 1 tool_calls after merging chunks
2025-11-20 01:49:54,309 - consoul.tui.app - DEBUG - Final tool_calls: [{'name': 'bash_execute', 'args': {'command': 'sips -g pixelsWidth -g pixelsHeight .art/logo/1x/consoul-logo.png'}, 'id': '21ccb4f4-b8df-434d-9d55-fd667192f5db', 'type': 'tool_call'}]
2025-11-20 01:49:54,309 - consoul.tui.app - DEBUG - Final message has 1 tool_calls
2025-11-20 01:49:54,310 - consoul.tui.app - DEBUG - [TOOL_FLOW] Got first_token: is_none=True, value=None
2025-11-20 01:49:54,310 - consoul.tui.app - DEBUG - [TOOL_FLOW] About to send final_message to main thread
2025-11-20 01:49:54,313 - consoul.tui.app - DEBUG - [TOOL_FLOW] Stream exception: None
2025-11-20 01:49:54,313 - consoul.tui.app - DEBUG - [TOOL_FLOW] Sending final_message to queue: has_message=True
2025-11-20 01:49:54,317 - consoul.tui.app - DEBUG - [TOOL_FLOW] Got final_message from queue: type=AIMessage, is_none=False
2025-11-20 01:49:54,318 - consoul.tui.app - DEBUG - [TOOL_FLOW] Response check: has_content=, has_tool_calls_in_message=[{'name': 'bash_execute', 'args': {'command': 'sips -g pixelsWidth -g pixelsHeight .art/logo/1x/consoul-logo.png'}, 'id': '21ccb4f4-b8df-434d-9d55-fd667192f5db', 'type': 'tool_call'}], full_response_len=0, cancelled=False
2025-11-20 01:49:54,319 - consoul.tui.app - DEBUG - [TOOL_FLOW] Checking final_message for tool calls: has_final_message=True
2025-11-20 01:49:54,319 - consoul.tui.app - DEBUG - [TOOL_FLOW] Calling has_tool_calls()
2025-11-20 01:49:54,319 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool calls detected in model response: 1 call(s), content_length=0
2025-11-20 01:49:54,319 - consoul.tui.app - DEBUG - [TOOL_FLOW] Replacing empty stream widget with tool execution message
2025-11-20 01:49:54,329 - consoul.tui.app - DEBUG - [TOOL_FLOW] Calling _handle_tool_calls with 1 calls
2025-11-20 01:49:54,329 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool call iteration 4 with 1 tool(s)
2025-11-20 01:49:54,329 - consoul.tui.app - DEBUG - [TOOL_FLOW] Reset tool results for new batch of 1 tools
2025-11-20 01:49:54,329 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool call detected: bash_execute with args: {'command': 'sips -g pixelsWidth -g pixelsHeight .art/logo/1x/consoul-logo.png'}
2025-11-20 01:49:54,329 - consoul.tui.app - DEBUG - [TOOL_FLOW] Posting ToolApprovalRequested for bash_execute
2025-11-20 01:49:54,329 - consoul.tui.app - DEBUG - [TOOL_FLOW] Posted ToolApprovalRequested for bash_execute
2025-11-20 01:49:54,330 - consoul.tui.app - DEBUG - [TOOL_FLOW] _handle_tool_calls completed
2025-11-20 01:49:54,363 - consoul.tui.app - DEBUG - [TOOL_FLOW] on_tool_approval_requested called for bash_execute
2025-11-20 01:49:54,370 - consoul.tui.app - DEBUG - [TOOL_FLOW] Checking if approval needed for bash_execute
2025-11-20 01:49:54,370 - consoul.tui.app - DEBUG - [TOOL_FLOW] Approval check result: needs_approval=True
2025-11-20 01:50:14,206 - consoul.tui.app - DEBUG - [TOOL_FLOW] on_tool_approval_result: tool=bash_execute, approved=True, call_id=21ccb4f4-b8df-434d-9d55-fd667192f5db
2025-11-20 01:50:14,227 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool completion status: 1/1 tools completed
2025-11-20 01:50:14,227 - consoul.tui.app - DEBUG - [TOOL_FLOW] All 1 tools completed, continuing with tool results
2025-11-20 01:50:14,228 - consoul.tui.app - INFO - [TIMING] _stream_ai_response ENTRY
2025-11-20 01:50:14,228 - consoul.tui.app - DEBUG - [TOOL_FLOW] _stream_ai_response ENTRY - iteration 4/5
2025-11-20 01:50:14,228 - consoul.tui.app - INFO - [TIMING] Updated streaming state: 0.3ms
2025-11-20 01:50:14,228 - consoul.tui.app - INFO - [TIMING] Got model config: 0.1ms
2025-11-20 01:50:14,228 - consoul.tui.app - INFO - [TIMING] Got trimmed messages: 0.4ms
2025-11-20 01:50:14,229 - consoul.tui.app - INFO - [TIMING] Converted to dict: 0.4ms, total prep: 1.1ms
2025-11-20 01:51:22,459 - consoul.tui.app - DEBUG - [TOOL_FLOW] Stream loop finished. Collected 3388 chunks, exception=None
2025-11-20 01:51:22,461 - consoul.tui.app - DEBUG - Found 1 tool_calls after merging chunks
2025-11-20 01:51:22,462 - consoul.tui.app - DEBUG - Final tool_calls: [{'name': 'bash_execute', 'args': {'command': 'sips -g size .art/logo/1x/consoul-logo.png'}, 'id': '9d8bdb5f-e114-41a9-97e9-382017b05455', 'type': 'tool_call'}]
2025-11-20 01:51:22,462 - consoul.tui.app - DEBUG - [TOOL_FLOW] Got first_token: is_none=True, value=None
2025-11-20 01:51:22,463 - consoul.tui.app - DEBUG - Final message has 1 tool_calls
2025-11-20 01:51:22,467 - consoul.tui.app - DEBUG - [TOOL_FLOW] Stream exception: None
2025-11-20 01:51:22,467 - consoul.tui.app - DEBUG - [TOOL_FLOW] About to send final_message to main thread
2025-11-20 01:51:22,470 - consoul.tui.app - DEBUG - [TOOL_FLOW] Sending final_message to queue: has_message=True
2025-11-20 01:51:22,473 - consoul.tui.app - DEBUG - [TOOL_FLOW] Got final_message from queue: type=AIMessage, is_none=False
2025-11-20 01:51:22,473 - consoul.tui.app - DEBUG - [TOOL_FLOW] Response check: has_content=, has_tool_calls_in_message=[{'name': 'bash_execute', 'args': {'command': 'sips -g size .art/logo/1x/consoul-logo.png'}, 'id': '9d8bdb5f-e114-41a9-97e9-382017b05455', 'type': 'tool_call'}], full_response_len=0, cancelled=False
2025-11-20 01:51:22,475 - consoul.tui.app - DEBUG - [TOOL_FLOW] Checking final_message for tool calls: has_final_message=True
2025-11-20 01:51:22,475 - consoul.tui.app - DEBUG - [TOOL_FLOW] Calling has_tool_calls()
2025-11-20 01:51:22,475 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool calls detected in model response: 1 call(s), content_length=0
2025-11-20 01:51:22,475 - consoul.tui.app - DEBUG - [TOOL_FLOW] Replacing empty stream widget with tool execution message
2025-11-20 01:51:22,482 - consoul.tui.app - DEBUG - [TOOL_FLOW] Calling _handle_tool_calls with 1 calls
2025-11-20 01:51:22,483 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool call iteration 5 with 1 tool(s)
2025-11-20 01:51:22,483 - consoul.tui.app - DEBUG - [TOOL_FLOW] Reset tool results for new batch of 1 tools
2025-11-20 01:51:22,483 - consoul.tui.app - DEBUG - [TOOL_FLOW] Tool call detected: bash_execute with args: {'command': 'sips -g size .art/logo/1x/consoul-logo.png'}
2025-11-20 01:51:22,483 - consoul.tui.app - DEBUG - [TOOL_FLOW] Posting ToolApprovalRequested for bash_execute
2025-11-20 01:51:22,483 - consoul.tui.app - DEBUG - [TOOL_FLOW] Posted ToolApprovalRequested for bash_execute
2025-11-20 01:51:22,483 - consoul.tui.app - DEBUG - [TOOL_FLOW] _handle_tool_calls completed
2025-11-20 01:51:22,527 - consoul.tui.app - DEBUG - [TOOL_FLOW] on_tool_approval_requested called for bash_execute
2025-11-20 01:51:22,547 - consoul.tui.app - DEBUG - [TOOL_FLOW] Checking if approval needed for bash_execute
2025-11-20 01:51:22,547 - consoul.tui.app - DEBUG - [TOOL_FLOW] Approval check result: needs_approval=True
